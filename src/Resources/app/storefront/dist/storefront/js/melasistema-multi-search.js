"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["melasistema-multi-search"],{6867:(e,t,a)=>{var r=a(6285);class n extends r.Z{init(){const e=document.getElementById("multiSearchModal"),t=e.querySelector('textarea[name="multiSearchKeywords"]'),a=document.querySelector(".multi-search-tabs-wrapper");a&&this.updateTabsBasedOnLocalStorage(a),e&&(this.populateTextAreaBasedOnLocalStorage(t),this.submitMultiSearch(e))}updateTabsBasedOnLocalStorage(e){const t=localStorage.getItem("multiSearchKeywords");if(t){const a=t.split("|"),r=document.createElement("ul");e.innerHTML="",a.forEach((e=>{const t=document.createElement("li"),a=document.createElement("a"),n=document.createElement("button");e===this.getActiveTermFromUrl()&&n.classList.add("is-active"),a.href=`multi-search?search=${e}`,n.textContent=e,a.classList.add("multi-search-link"),n.classList.add("btn","btn-outline-secondary"),a.appendChild(n),t.appendChild(a),r.appendChild(t)})),e.appendChild(r)}}populateTextAreaBasedOnLocalStorage(e){const t=localStorage.getItem("multiSearchKeywords");if(t){const a=t.split("|");e.value=a.join("\n")}}submitMultiSearch(e){const t=document.querySelector("#multiSearchModal form");t.addEventListener("submit",(a=>{a.preventDefault();const r=e.querySelector('textarea[name="multiSearchKeywords"]').value.trim();if(r){const e=r.replace(/\n/g,"|");localStorage.setItem("multiSearchKeywords",e);const a=document.createElement("input");a.type="hidden",a.name="allKeywords",a.value=e,t.appendChild(a),t.submit()}else alert("The Multi Search require at least one keyword!")}))}getActiveTermFromUrl(){return new URLSearchParams(window.location.search).get("search")}generateUrl(e){const t=new URL("/multi-search",window.location.origin);return t.searchParams.set("search",e),t.toString()}}window.PluginManager.register("MultiSearchPlugin",n,"[data-multi-search]")}},e=>{e.O(0,["vendor-node","vendor-shared"],(()=>{return t=6867,e(e.s=t);var t}));e.O()}]);